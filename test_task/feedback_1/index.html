<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
    <title>Обратная связь</title>
</head>
<body>

<div class="container">

    <div class="row justify-content-center align-items-center mt-5">

            <form id="feedback" class="border border-dark rounded p-5">
                <div class="mb-3">
                    <label for="user-name" class="form-label">Имя пользователя:</label>
                    <input type="text" class="form-control" id="user-name" name="user-name" required="required" >
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email:</label>
                    <input type="email" class="form-control" id="email" aria-describedby="emailHelp" name="email" required="required">
                </div>
                <div class="mb-3">
                    <label for="message" class="form-label">Сообщение:</label>
                    <input type="text" class="form-control" id="message" aria-describedby="emailHelp" name="message" required="required">
                </div>
                <div class="mb-3">
                    <input type="file" id="file" name="file_input">
                </div>

                <button type="submit" class="btn btn-primary">Отправить</button>
            </form>

    </div>

</div>

<script>

    $(document).ready(function () {

       $("#feedback").on("submit",function (e) {

           e.preventDefault();

           let data = new FormData($("#feedback")[0]);

           for (var [key, value] of data.entries()) {
               console.log(key, value);
           }


           $.ajax({

               type: "POST",
               url: "/handler.php",
               contentType: false,
               processData: false,
               data: data,
               dataType: "json",
               success: function (msg) {

                   alert(msg);

               }

           });

       })

    })

</script>

</body>
</html>
